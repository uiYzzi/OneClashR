(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{EeQf:function(e,t,a){"use strict";a.r(t);a("pNMO"),a("TeQF"),a("QWBl"),a("2B1R"),a("+2oP"),a("27RR"),a("FZtP");var n=a("rePB"),r=a("ODXe"),l=a("17x9"),c=a.n(l),o=a("q1tI"),i=a.n(o),s=a("OADI"),u=a("vJea"),p=(a("n57c"),a("S7Mu")),b=a.n(p),d=a("DKqX"),m=a("/P0+"),f=a("iuhU"),v=a("uLK7"),O=a.n(v);function y(e){var t=e.OptionComponent,a=e.optionPropsList,n=e.selectedIndex,r=e.onChange;return i.a.createElement("div",{className:O.a.root},a.map((function(e,a){var l=Object(f.a)(O.a.item,{[O.a.itemActive]:a===n}),c=function(e){e.preventDefault(),a!==n&&r(a)};return i.a.createElement("div",{key:a,className:l,tabIndex:0,role:"menuitem",onKeyDown:c,onClick:c},i.a.createElement(t,e))})))}y.propTypes={OptionComponent:l.func,optionPropsList:l.array,selectedIndex:l.number,onChange:l.func};var g=a("WfPo"),j=a("hkBY"),E=a("Utih"),w=a("aK+U"),h=a("zouR");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}},x=[23e3,35e3,46e3,33e3,9e4,68e3,23e3,45e3],D=[184e3,183e3,196e3,182e3,19e4,186e3,182e3,189e3],I=x;function N(e){var t=e.id,a=h.a.read(),n=Object(o.useMemo)((function(){return{labels:I,datasets:[P(P(P({},h.d),h.b[t].up),{},{data:x}),P(P(P({},h.d),h.b[t].down),{},{data:D})]}}),[t]),r="chart-"+t;return Object(w.a)(a,r,n,null,C),i.a.createElement("div",{style:{width:130,padding:5}},i.a.createElement("canvas",{id:r}))}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=i.a.useEffect,U=i.a.useState,A=i.a.useCallback,K=i.a.useRef,M=i.a.useMemo,_=[{id:0},{id:1},{id:2},{id:3}],B=[{label:"全球",value:"Global"},{label:"规则",value:"Rule"},{label:"直接",value:"Direct"}],L=[{label:"信息",value:"info"},{label:"警告",value:"warning"},{label:"错误",value:"error"},{label:"调试",value:"debug"},{label:"沉默",value:"silent"}],W=[{key:"port",label:"HTTP 代理端口"},{key:"socks-port",label:"SOCKS5 代理端口"},{key:"mixed-port",label:"Mixed 代理端口"},{key:"redir-port",label:"Redir 端口"}],Q=Object(g.a)((function(e){return{selectedChartStyleIndex:Object(s.g)(e),latencyTestUrl:Object(s.e)(e),apiConfig:Object(s.b)(e)}}))((function(e){var t=e.dispatch,a=e.configs,n=e.selectedChartStyleIndex,l=e.latencyTestUrl,c=e.apiConfig,o=U(a),s=Object(r.a)(o,2),p=s[0],f=s[1],v=K(a);R((function(){v.current!==a&&f(a),v.current=a}),[a]);var O=A((function(e,t){f(T(T({},p),{},{[e]:t}))}),[p]),w=A((function(e){var a=e;O("allow-lan",a),t(Object(u.e)(c,{"allow-lan":a}))}),[c,t,O]),h=A((function(e){var a=e.target,n=a.name,r=a.value;switch(a.name){case"mode":case"log-level":O(n,r),t(Object(u.e)(c,{[n]:r}));break;case"redir-port":case"socks-port":case"mixed-port":case"port":if(""!==a.value){var l=parseInt(a.value,10);if(l<0||l>65535)return}O(n,r);break;default:return}}),[c,t,O]),k=Object(g.c)(),P=k.selectChartStyleIndex,C=k.updateAppConfig,x=A((function(e){var a=e.target,n=a.name,r=a.value;switch(n){case"port":case"socks-port":case"mixed-port":case"redir-port":var l=parseInt(r,10);if(l<0||l>65535)return;t(Object(u.e)(c,{[n]:l}));break;case"latencyTestUrl":C(n,r);break;default:throw new Error("未知输入名称 "+n)}}),[c,t,C]),D=M((function(){var e=p.mode;return"string"==typeof e&&e[0].toUpperCase()+e.slice(1)}),[p.mode]);return i.a.createElement("div",null,i.a.createElement(d.a,{title:"配置"}),i.a.createElement("div",{className:b.a.root},W.map((function(e){return void 0!==p[e.key]?i.a.createElement("div",{key:e.key},i.a.createElement("div",{className:b.a.label},e.label),i.a.createElement(m.b,{name:e.key,value:p[e.key],onChange:h,onBlur:x})):null})),i.a.createElement("div",null,i.a.createElement("div",{className:b.a.label},"允许局域网"),i.a.createElement(j.a,{name:"allow-lan",checked:p["allow-lan"],onChange:w})),i.a.createElement("div",null,i.a.createElement("div",{className:b.a.label},"模式"),i.a.createElement(E.a,{options:B,name:"mode",value:D,onChange:h})),i.a.createElement("div",null,i.a.createElement("div",{className:b.a.label},"日志级别"),i.a.createElement(E.a,{options:L,name:"log-level",value:p["log-level"],onChange:h}))),i.a.createElement("div",{className:b.a.sep},i.a.createElement("div",null)),i.a.createElement("div",{className:b.a.section},i.a.createElement("div",null,i.a.createElement("div",{className:b.a.label},"图表主题"),i.a.createElement(y,{OptionComponent:N,optionPropsList:_,selectedIndex:n,onChange:P})),i.a.createElement("div",{style:{maxWidth:360}},i.a.createElement("div",{className:b.a.label},"延迟测试网址"),i.a.createElement(m.a,{name:"latencyTestUrl",type:"text",value:l,onBlur:x}))))}));t.default=Object(g.a)((function(e){return{configs:Object(u.b)(e),apiConfig:Object(s.b)(e)}}))((function(e){var t=e.dispatch,a=e.configs,n=e.apiConfig;return R((function(){t(Object(u.a)(n))}),[t,n]),i.a.createElement(Q,{configs:a})}));Q.propTypes={configs:c.a.object}},S7Mu:function(e,t,a){e.exports={root:"_2drigWG08z",section:"_3qy5-MPwaw",sep:"_1sbDIR8sCY",label:"_1Hvw0QbyvH"}},uLK7:function(e,t,a){e.exports={root:"_3uy3l7xDdI",item:"_2hwDLKbh5f",itemActive:"_1OeAkW2Cff"}}}]);